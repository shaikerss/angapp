stages:
  - build
  - test
  - deploy

Build-Test:
  stage: build
  tags:
  - build
  script:
    - npm install
    - ng build

Lint-Test:
  stage: test
  tags:
  - test
  script:
    - npm install
    - ng lint
    
Deploy:
  stage: deploy
  tags:
  - deploy
  script:
    - npm install
    - ng build
    - cd dist
    - git init
    - git pull http://shaikerss:R!kons250394@gitlab.com/appo2/angapprepo
    - git config --global user.name "shaik"
    - git config --global user.email "time-sr@hotmail.com"
  
  artifacts:
    paths:
      - /home/gitlab-runner/builds/xdKvHweH/0/shaikerss/angapp/distV1
    expire_in: 1 week
